# code

    def add_shell_server(self):
        from osbot_fast_api.utils.http_shell.Http_Shell__Server import Model__Shell_Command, Http_Shell__Server
        def shell_server(shell_command: Model__Shell_Command):
            return Http_Shell__Server().invoke(shell_command)
        self.add_route_post(shell_server)

# tests

    def test_add_shell_server(self):                                               # Test shell server route addition
        with Fast_API() as _:
            _.setup()
            initial_routes = len(_.routes_paths())

            _.add_shell_server()

            # Verify route was added
            assert len(_.routes_paths()) == initial_routes + 1
            assert '/shell-server' in _.routes_paths()
